{
  "project": "BasicBookkeeping",
  "branchName": "ralph/basic-bookkeeping",
  "description": "Basic Bookkeeping with AI - A web-based bookkeeping application for tracking income/expenses, managing invoices, and generating financial reports",
  "userStories": [
    {
      "id": "US-001",
      "title": "Initialize Next.js project with dependencies",
      "description": "As a developer, I need to set up the Next.js project structure with all required dependencies.",
      "acceptanceCriteria": [
        "Next.js 14+ project initialized with TypeScript",
        "Tailwind CSS configured",
        "Prisma ORM installed and configured",
        "NextAuth.js installed",
        "shadcn/ui initialized with button, input, card, dialog, dropdown-menu, table components",
        "Recharts installed for charts",
        "Project runs with npm run dev",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-002",
      "title": "Create database schema for users",
      "description": "As a developer, I need to set up the database schema for user authentication.",
      "acceptanceCriteria": [
        "User table with: id, email (unique), password_hash, name, created_at, updated_at",
        "Prisma schema defined",
        "Migration runs successfully",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-003",
      "title": "Create database schema for categories",
      "description": "As a developer, I need to set up the database schema for transaction categories.",
      "acceptanceCriteria": [
        "Categories table with: id, user_id, name, type (income/expense enum), is_default boolean",
        "Foreign key to users table",
        "Migration runs successfully",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "Create database schema for transactions",
      "description": "As a developer, I need to set up the database schema for income/expense transactions.",
      "acceptanceCriteria": [
        "Transactions table with: id, user_id, type (income/expense enum), amount (integer cents), description, category_id, date, created_at, updated_at",
        "Foreign keys to users and categories tables",
        "Migration runs successfully",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Create database schema for invoices",
      "description": "As a developer, I need to set up the database schema for invoices.",
      "acceptanceCriteria": [
        "Invoices table: id, user_id, invoice_number, client_name, client_email, status (draft/sent/paid enum), issue_date, due_date, notes, created_at, updated_at",
        "Foreign key to users table",
        "Migration runs successfully",
        "Typecheck passes"
      ],
      "priority": 5,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-006",
      "title": "Create database schema for invoice items",
      "description": "As a developer, I need to set up the database schema for invoice line items.",
      "acceptanceCriteria": [
        "Invoice_items table: id, invoice_id, description, quantity (integer), unit_price (integer cents)",
        "Foreign key to invoices table with cascade delete",
        "Migration runs successfully",
        "Typecheck passes"
      ],
      "priority": 6,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-007",
      "title": "Create database schema for receipts",
      "description": "As a developer, I need to set up the database schema for receipt uploads.",
      "acceptanceCriteria": [
        "Receipts table: id, user_id, transaction_id (nullable), file_path, file_name, uploaded_at",
        "Foreign keys to users and transactions (nullable)",
        "Migration runs successfully",
        "Typecheck passes"
      ],
      "priority": 7,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-008",
      "title": "Create seed script for default categories",
      "description": "As a developer, I need default categories seeded for new users.",
      "acceptanceCriteria": [
        "Seed function creates default income categories: Salary, Freelance, Investments, Other Income",
        "Seed function creates default expense categories: Rent, Utilities, Food, Transportation, Entertainment, Healthcare, Other Expense",
        "Categories marked with is_default: true",
        "Seed can be called when creating a new user",
        "Typecheck passes"
      ],
      "priority": 8,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-009",
      "title": "Implement user registration",
      "description": "As a new user, I want to create an account so that I can use the bookkeeping app.",
      "acceptanceCriteria": [
        "Registration page at /register",
        "Form with email, password, confirm password, name fields",
        "Password hashed with bcrypt before storing",
        "Validation: email format, password min 8 chars, passwords match",
        "On success: creates user, seeds default categories, redirects to login",
        "Shows error messages for validation failures or duplicate email",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 9,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-010",
      "title": "Implement user login and session",
      "description": "As a user, I want to log in so that I can access my financial data.",
      "acceptanceCriteria": [
        "Login page at /login",
        "Form with email and password fields",
        "NextAuth.js credentials provider configured",
        "On success: creates session, redirects to dashboard",
        "Shows error for invalid credentials",
        "Session persists across browser refreshes",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 10,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-011",
      "title": "Implement logout and auth middleware",
      "description": "As a user, I want to log out and have protected routes so my data is secure.",
      "acceptanceCriteria": [
        "Logout action clears session and redirects to login",
        "Middleware protects all routes except /login and /register",
        "Unauthenticated access to protected routes redirects to /login",
        "Typecheck passes"
      ],
      "priority": 11,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-012",
      "title": "Create basic navigation layout",
      "description": "As a user, I want a navigation layout so that I can access all features.",
      "acceptanceCriteria": [
        "Layout component wraps all authenticated pages",
        "Sidebar with links: Dashboard, Transactions, Invoices, Categories, Reports",
        "Current page highlighted in navigation",
        "User menu in header with name and logout button",
        "Responsive: sidebar collapses to hamburger menu on mobile",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 12,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-013",
      "title": "Create transactions server actions",
      "description": "As a developer, I need server actions for CRUD operations on transactions.",
      "acceptanceCriteria": [
        "createTransaction action: validates input, creates transaction for current user",
        "getTransactions action: returns user's transactions with category info, supports date/category filters",
        "updateTransaction action: updates transaction if owned by current user",
        "deleteTransaction action: deletes transaction if owned by current user",
        "All actions scope data to authenticated user only",
        "Amount stored as cents (integer)",
        "Typecheck passes"
      ],
      "priority": 13,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-014",
      "title": "Create add transaction form",
      "description": "As a user, I want to add income or expense transactions.",
      "acceptanceCriteria": [
        "Transaction form component with: type toggle (income/expense), amount input, description input, category dropdown, date picker",
        "Amount accepts decimal input, converts to cents for storage",
        "Date defaults to today",
        "Category dropdown filters by selected type",
        "Form validates: amount required and positive, date not more than 1 year in future",
        "On submit: calls createTransaction, clears form on success",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 14,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-015",
      "title": "Create transactions list page",
      "description": "As a user, I want to see a list of my transactions.",
      "acceptanceCriteria": [
        "Transactions page at /transactions",
        "Table with columns: date, description, category, amount",
        "Amount color-coded: green for income, red for expense",
        "Sorted by date descending",
        "Pagination with 20 items per page",
        "Empty state when no transactions",
        "Add Transaction button opens form modal",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 15,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-016",
      "title": "Add edit and delete for transactions",
      "description": "As a user, I want to edit and delete transactions.",
      "acceptanceCriteria": [
        "Click transaction row opens edit modal with pre-filled values",
        "Edit modal has Save and Cancel buttons",
        "Delete button on each row",
        "Delete shows confirmation dialog before deleting",
        "List updates immediately after save or delete",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 16,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-017",
      "title": "Add transaction filters",
      "description": "As a user, I want to filter transactions by date range and category.",
      "acceptanceCriteria": [
        "Date range picker with start and end date inputs",
        "Quick filter buttons: This Month, Last Month, This Year, Last 30 Days, All Time",
        "Category filter dropdown (multi-select)",
        "Filters combine (date AND category)",
        "Filter state persists in URL params",
        "Running total displayed for filtered transactions",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 17,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-018",
      "title": "Create categories server actions",
      "description": "As a developer, I need server actions for managing categories.",
      "acceptanceCriteria": [
        "getCategories action: returns user's categories (default + custom)",
        "createCategory action: creates custom category for user",
        "updateCategory action: updates category name if owned by user and not default",
        "deleteCategory action: deletes if owned, not default, and no transactions use it",
        "All actions scope data to authenticated user",
        "Typecheck passes"
      ],
      "priority": 18,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-019",
      "title": "Create categories management page",
      "description": "As a user, I want to manage my custom categories.",
      "acceptanceCriteria": [
        "Categories page at /categories",
        "List shows all categories grouped by type (income/expense)",
        "Add Category form with name and type dropdown",
        "Edit button for custom categories (opens inline edit or modal)",
        "Delete button for custom categories with confirmation",
        "Default categories show edit/delete buttons disabled",
        "Error message when deleting category with transactions",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 19,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-020",
      "title": "Create dashboard page",
      "description": "As a user, I want a dashboard showing my financial summary.",
      "acceptanceCriteria": [
        "Dashboard at / (root, after login redirect)",
        "Cards showing: Total Income (current month), Total Expenses (current month), Net Balance",
        "Net balance color: green if positive, red if negative",
        "List of 5 most recent transactions",
        "Quick action buttons: Add Income, Add Expense",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 20,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-021",
      "title": "Create invoices server actions",
      "description": "As a developer, I need server actions for invoice management.",
      "acceptanceCriteria": [
        "createInvoice action: creates invoice with line items, auto-generates invoice number (INV-001 format)",
        "getInvoices action: returns user's invoices with calculated totals",
        "getInvoice action: returns single invoice with line items",
        "updateInvoice action: updates invoice if owned and status is draft",
        "updateInvoiceStatus action: changes status (draft->sent->paid)",
        "deleteInvoice action: deletes if owned and status is draft",
        "Typecheck passes"
      ],
      "priority": 21,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-022",
      "title": "Create invoice form",
      "description": "As a user, I want to create an invoice.",
      "acceptanceCriteria": [
        "Invoice form with: client name, client email, issue date, due date, notes",
        "Line items section: add rows with description, quantity, unit price",
        "Line item total calculated automatically",
        "Invoice total shown as sum of line items",
        "Can add/remove line items dynamically",
        "Save as Draft and Mark as Sent buttons",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 22,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-023",
      "title": "Create invoices list page",
      "description": "As a user, I want to see all my invoices.",
      "acceptanceCriteria": [
        "Invoices page at /invoices",
        "Table: invoice number, client name, total, status, due date",
        "Status badge colors: gray=draft, blue=sent, green=paid",
        "Sorted by issue date descending",
        "Click row navigates to invoice detail",
        "Create Invoice button",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 23,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-024",
      "title": "Create invoice detail and edit page",
      "description": "As a user, I want to view and edit an invoice.",
      "acceptanceCriteria": [
        "Invoice detail page at /invoices/[id]",
        "Shows all invoice info and line items",
        "Edit button opens editable form (only for draft status)",
        "Status change buttons: Mark as Sent (draft->sent), Mark as Paid (sent->paid)",
        "Sent/paid invoices show read-only view",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 24,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-025",
      "title": "Add invoice delete and void",
      "description": "As a user, I want to delete or void invoices.",
      "acceptanceCriteria": [
        "Delete button on invoice detail (draft only)",
        "Confirmation dialog before delete",
        "Void button for sent/paid invoices (marks as cancelled)",
        "Voided invoices show cancelled status",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 25,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-026",
      "title": "Create receipt upload functionality",
      "description": "As a user, I want to upload receipts and attach them to transactions.",
      "acceptanceCriteria": [
        "Upload component accepts jpg, png, pdf (max 5MB)",
        "Shows upload progress indicator",
        "Files saved to /uploads directory with unique names",
        "Receipt record created in database linked to transaction",
        "Upload button available on transaction form and edit modal",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 26,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-027",
      "title": "View and delete receipts",
      "description": "As a user, I want to view and delete uploaded receipts.",
      "acceptanceCriteria": [
        "Receipt thumbnail shown on transaction row if attached",
        "Click thumbnail opens full-size view in modal",
        "Download button to save receipt locally",
        "Delete button with confirmation",
        "Delete removes file from storage and database record",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 27,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-028",
      "title": "Create income vs expense report",
      "description": "As a user, I want a report comparing income and expenses.",
      "acceptanceCriteria": [
        "Reports page at /reports",
        "Income vs Expense report section",
        "Date range selector for report period",
        "Summary cards: Total Income, Total Expenses, Net Profit/Loss",
        "Bar chart with income and expense bars",
        "Monthly breakdown table if range spans multiple months",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 28,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-029",
      "title": "Create category breakdown report",
      "description": "As a user, I want to see spending by category.",
      "acceptanceCriteria": [
        "Category breakdown section on reports page",
        "Toggle between income and expense categories",
        "Date range selector",
        "Pie chart showing percentage per category",
        "Table: category name, total amount, percentage",
        "Sorted by amount descending",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 29,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-030",
      "title": "Add CSV export for transactions",
      "description": "As a user, I want to export transactions to CSV.",
      "acceptanceCriteria": [
        "Export button on transactions page",
        "Exports currently filtered transactions",
        "CSV columns: date, type, description, category, amount",
        "Amount formatted as decimal (dollars not cents)",
        "File named: transactions_YYYY-MM-DD.csv",
        "Browser downloads file on click",
        "Typecheck passes"
      ],
      "priority": 30,
      "passes": false,
      "notes": ""
    }
  ]
}
